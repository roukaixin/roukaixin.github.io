<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Arch Linux 基础安装到日常使用与美化 - 驱动安装 - 不北咪</title><meta name=author content="不北咪">
<meta name=author-link content><meta name=description content="1、安装 NVIDIA 驱动 安装驱动 安装启动之前，先跟新一下 pacman 数据库。更新命令：sudo pacman -Syyu 1 2 3 # 安装 linux-lts-headers，因为显卡启动需"><meta name=keywords content="linux,arch"><meta itemprop=name content="Arch Linux 基础安装到日常使用与美化 - 驱动安装"><meta itemprop=description content="1、安装 NVIDIA 驱动 安装驱动 安装启动之前，先跟新一下 pacman 数据库。更新命令：sudo pacman -Syyu 1 2 3 # 安装 linux-lts-headers，因为显卡启动需"><meta itemprop=datePublished content="2023-11-14T21:00:00+08:00"><meta itemprop=dateModified content="2024-01-10T20:38:50+08:00"><meta itemprop=wordCount content="1397"><meta itemprop=image content="https://roukaixin.github.io/images/logo.png"><meta itemprop=keywords content="linux,arch,"><meta property="og:title" content="Arch Linux 基础安装到日常使用与美化 - 驱动安装"><meta property="og:description" content="1、安装 NVIDIA 驱动 安装驱动 安装启动之前，先跟新一下 pacman 数据库。更新命令：sudo pacman -Syyu 1 2 3 # 安装 linux-lts-headers，因为显卡启动需"><meta property="og:type" content="article"><meta property="og:url" content="https://roukaixin.github.io/posts/2023-11/arch-drive-install/"><meta property="og:image" content="https://roukaixin.github.io/images/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-14T21:00:00+08:00"><meta property="article:modified_time" content="2024-01-10T20:38:50+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://roukaixin.github.io/images/logo.png"><meta name=twitter:title content="Arch Linux 基础安装到日常使用与美化 - 驱动安装"><meta name=twitter:description content="1、安装 NVIDIA 驱动 安装驱动 安装启动之前，先跟新一下 pacman 数据库。更新命令：sudo pacman -Syyu 1 2 3 # 安装 linux-lts-headers，因为显卡启动需"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://roukaixin.github.io/posts/2023-11/arch-drive-install/><link rel=prev href=https://roukaixin.github.io/posts/2023-11/arch-install-config/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Arch Linux 基础安装到日常使用与美化 - 驱动安装","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/roukaixin.github.io\/posts\/2023-11\/arch-drive-install\/"},"genre":"posts","keywords":"linux, arch","wordcount":1397,"url":"https:\/\/roukaixin.github.io\/posts\/2023-11\/arch-drive-install\/","datePublished":"2023-11-14T21:00:00+08:00","dateModified":"2024-01-10T20:38:50+08:00","publisher":{"@type":"Organization","name":"roukaixin","logo":"https:\/\/roukaixin.github.io\/images\/avatar.jpg"},"author":{"@type":"Person","name":"不北咪"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title=不北咪><img loading=lazy src=/images/logo.png alt=不北咪 data-title=不北咪 class=logo style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'><span class=header-title-pre>&nbsp;&nbsp;&nbsp;</span><span id=typeit-header-desktop class=typeit></span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/>所有文章</a></li><li class=menu-item><a class=menu-link href=/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/friends/>友链</a></li><li class=menu-item><a class=menu-link href=/collections/>合集文章</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=不北咪><img loading=lazy src=/images/logo.png alt=/images/logo.png data-title=/images/logo.png class=logo style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'><span class=header-title-pre>&nbsp;&nbsp;&nbsp;</span><span id=typeit-header-title-mobile class=typeit></span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/posts/>所有文章</a></li><li class=menu-item><a class=menu-link href=/categories/>分类</a></li><li class=menu-item><a class=menu-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/friends/>友链</a></li><li class=menu-item><a class=menu-link href=/collections/>合集文章</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=合集><div class="details collection-details open"><div class="details-summary collection-summary"><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i>
<span class=collection-name data-collections=合集>Arch Linux 基础安装到日常使用与美化</span>
<span class=collection-count>3</span><i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class="details-content collection-content"><nav><ul class=collection-list><li class=collection-item><a href=/posts/2023-06/arch-basic-install/ title="Arch Linux 基础安装到日常使用与美化 - 基础系统安装">Arch Linux 基础安装到日常使用与美化 - 基础系统安装</a></li><li class=collection-item><a href=/posts/2023-11/arch-install-config/ title="Arch Linux 基础安装到日常使用与美化 - 安装后配置">Arch Linux 基础安装到日常使用与美化 - 安装后配置</a></li><li class=collection-item><span class=active title="Arch Linux 基础安装到日常使用与美化 - 驱动安装">Arch Linux 基础安装到日常使用与美化 - 驱动安装</span></li></ul><div class=collection-nav-simple><a href=/posts/2023-11/arch-install-config/ class=collection-nav-item rel=prev title="Arch Linux 基础安装到日常使用与美化 - 安装后配置"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i></a><span class=text-secondary>3/3</span><i class="fa-solid fa-angle-right fa-fw collection-nav-item text-secondary" aria-hidden=true></i></div></nav></div></div></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Arch Linux 基础安装到日常使用与美化 - 驱动安装</span></h1><p class="single-subtitle animate__animated animate__fadeIn">arch 显卡驱动、声卡驱动安装</p></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><img loading=lazy src=/images/avatar.jpg alt=不北咪 data-title=不北咪 class=avatar style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'>&nbsp;不北咪</span></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/linux/ class=post-category title="分类 - linux"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> linux</a> 和 <a href=/collections/arch-linux-%E5%9F%BA%E7%A1%80%E5%AE%89%E8%A3%85%E5%88%B0%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E4%B8%8E%E7%BE%8E%E5%8C%96/ class=post-collection title="合集 - Arch Linux 基础安装到日常使用与美化"><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i> Arch Linux 基础安装到日常使用与美化</a></span></div><div class=post-meta-line><span title="发布于 2023-11-14 21:00:00"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime="2023年11月14日 21:00:00">2023年11月14日 21:00:00</time></span>&nbsp;<span title="更新于 2024-01-10 20:38:50"><i class="fa-regular fa-calendar-check fa-fw me-1" aria-hidden=true></i><time datetime="2024年01月10日 20:38:50">2024年01月10日 20:38:50</time></span>&nbsp;<span title="1397 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 1400 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 3 分钟</span>&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title="Arch Linux 基础安装到日常使用与美化 - 驱动安装">
<i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_page_pv>-</span>&nbsp;次阅读
</span>&nbsp;</div></div><div class=featured-image><img loading=lazy src=/posts/Arch%20Linux/arch-drive-install.webp alt=/posts/Arch%20Linux/arch-drive-install.webp data-title=/posts/Arch%20Linux/arch-drive-install.webp style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ol><li><a href=#安装-nvidia-驱动>安装 NVIDIA 驱动</a><ol><li><a href=#仅使用-nvidia-显卡>仅使用 NVIDIA 显卡</a><ol><li><a href=#配置视频硬解>配置视频硬解</a></li></ol></li></ol></li><li><a href=#声卡驱动>声卡驱动</a></li><li><a href=#蓝牙驱动>蓝牙驱动</a></li><li><a href=#电源管理>电源管理</a></li></ol></nav></div></div><div class=content id=content data-end-flag=（本文完）><h2 id=安装-nvidia-驱动 class=heading-element><a href=#%e5%ae%89%e8%a3%85-nvidia-%e9%a9%b1%e5%8a%a8 class=heading-mark></a>1、安装 NVIDIA 驱动</h2><blockquote><p>安装驱动</p></blockquote><p>安装启动之前，先跟新一下 pacman 数据库。更新命令：<code>sudo pacman -Syyu</code></p><div class=highlight id=id-1><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装 linux-lts-headers，因为显卡启动需要。</span>
</span></span><span class=line><span class=cl><span class=c1># 注意：如果内核是 linux ，不是 linux-lts，那么安装的是 linux-headers</span>
</span></span><span class=line><span class=cl>sudo pacman -S linux-lts-headers</span></span></code></pre></td></tr></table></div></div><div class=highlight id=id-2><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装 nvidia 启动，推荐安装 nvidia-dkms ，他是动态安装的。不像其他驱动，如果内核升级，就需要重新安装一次驱动。</span>
</span></span><span class=line><span class=cl>sudo pacman -S nvidia-dkms</span></span></code></pre></td></tr></table></div></div><blockquote><p>DRM 内核模式设置</p></blockquote><p><strong>这一步可以解决屏幕撕裂问题</strong></p><div class=highlight id=id-3><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 编辑修改 /etc/default/grub</span>
</span></span><span class=line><span class=cl>vim /etc/default/grub
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找到 GRUB_CMDLINE_LINUX_DEFAULT 这一项在后面加入 nvidia-drm.modeset=1</span></span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230507044757042.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230507044757042.png?size=small" data-sub-html="<h2>image-20230507044757042</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230507044757042.png alt=image-20230507044757042 srcset="arch-drive-install.assets/image-20230507044757042.png?size=small, arch-drive-install.assets/image-20230507044757042.png?size=medium 1.5x, arch-drive-install.assets/image-20230507044757042.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230507044757042</figcaption></figure></p><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230506101749305.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230506101749305.png?size=small" data-sub-html="<h2>image-20230506101749305</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230506101749305.png alt=image-20230506101749305 srcset="arch-drive-install.assets/image-20230506101749305.png?size=small, arch-drive-install.assets/image-20230506101749305.png?size=medium 1.5x, arch-drive-install.assets/image-20230506101749305.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230506101749305</figcaption></figure></p><p><strong>编辑完成之后，重新生成 <code>grub.cfg</code> ，执行 <code>sudo grub-mkconfig -o /boot/grub/grub.cfg</code></strong></p><blockquote><p>添加 initramfs 模块</p></blockquote><p>在 <code>/etc/mkinitcpio.conf</code> 中找到 <code>MODULES=</code> 这一行在括号的后面加入<code>nvidia nvidia_modeset nvidia_uvm nvidia_drm</code>。修改之前先备份一下（<code>sudo cp /etc/mkinitcpio.conf /etc/mkinitcpio.conf.back</code>）</p><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230507045036585.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230507045036585.png?size=small" data-sub-html="<h2>image-20230507045036585</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230507045036585.png alt=image-20230507045036585 srcset="arch-drive-install.assets/image-20230507045036585.png?size=small, arch-drive-install.assets/image-20230507045036585.png?size=medium 1.5x, arch-drive-install.assets/image-20230507045036585.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230507045036585</figcaption></figure></p><blockquote><p>重新生成 <code>initramfs</code></p></blockquote><div class=highlight id=id-4><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 输入 sudo mkinitcpio -P 命令生成 initramfs</span>
</span></span><span class=line><span class=cl>sudo mkinitcpio -P</span></span></code></pre></td></tr></table></div></div><p><strong>重要：执行完命令之后重启电脑（一定要重启）</strong></p><blockquote><p>校验是否安装成功</p></blockquote><p>打开终端，输入 <code>nvidia-smi</code> 命令，出现 <code>NVIDIA-SMI has failed because it couldn't communicate with the NIVIDIA driver. Make sure that the latest NVIDIA driver is installed and running</code> ，那就说明没有安装成功。</p><p><strong>解决方案：重启电脑，如果重启电脑还是不行，看看上面修改的配置有没有对，如果还是不行在安装一遍</strong></p><h3 id=仅使用-nvidia-显卡 class=heading-element><a href=#%e4%bb%85%e4%bd%bf%e7%94%a8-nvidia-%e6%98%be%e5%8d%a1 class=heading-mark></a>1.1、仅使用 NVIDIA 显卡</h3><p><strong>下面配置针对于 x 服务器，并使用桌面环境（dwm）</strong></p><blockquote><p>创建 xorg.conf（10-nvidia-drm-outputclass.conf）</p></blockquote><p>在 <code>/etc/X11/xorg.conf.d/</code> 目录下新建 <code>10-nvidia-drm-outputclass.conf</code>。</p><p><strong>重要：如果<code>/etc/X11</code>存在<code>xorg.conf</code>，那么一定要删除掉</strong></p><p>在<code>/usr/share/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf</code>也有一份是生成的，可以参考着来看</p><div class=highlight id=id-5><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vim /etc/X11/xorg.conf.d/10-nvidia-drm-outputclass.conf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Section <span class=s2>&#34;OutputClass&#34;</span>
</span></span><span class=line><span class=cl>    Identifier <span class=s2>&#34;intel&#34;</span>
</span></span><span class=line><span class=cl>    MatchDriver <span class=s2>&#34;i915&#34;</span>
</span></span><span class=line><span class=cl>    Driver <span class=s2>&#34;modesetting&#34;</span>
</span></span><span class=line><span class=cl>EndSection
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Section <span class=s2>&#34;OutputClass&#34;</span>
</span></span><span class=line><span class=cl>    Identifier <span class=s2>&#34;nvidia&#34;</span>
</span></span><span class=line><span class=cl>    MatchDriver <span class=s2>&#34;nvidia-drm&#34;</span>
</span></span><span class=line><span class=cl>    Driver <span class=s2>&#34;nvidia&#34;</span>
</span></span><span class=line><span class=cl>    Option <span class=s2>&#34;AllowEmptyInitialConfiguration&#34;</span>
</span></span><span class=line><span class=cl>    Option <span class=s2>&#34;PrimaryGPU&#34;</span> <span class=s2>&#34;yes&#34;</span>
</span></span><span class=line><span class=cl>    ModulePath <span class=s2>&#34;/usr/lib/nvidia/xorg&#34;</span>
</span></span><span class=line><span class=cl>    ModulePath <span class=s2>&#34;/usr/lib/xorg/modules&#34;</span>
</span></span><span class=line><span class=cl>EndSection</span></span></code></pre></td></tr></table></div></div><p><strong>注意：</strong> 这里的 <code>intel</code> 驱动 <strong>必须为</strong> <code>modesetting</code>，否则会产生严重的撕裂，后面的 <code>AllowEmptyInitialConfiguration</code> 是为了让 n 卡在没检测到显示器的时候继续运行，而不是默认的退出。</p><blockquote><p>使用 startx 启动</p></blockquote><p>这里以<strong>dwm</strong>为例，如果你是其他桌面管理器，请参阅<a href=https://wiki.archlinux.org/index.php/NVIDIA_Optimus#Display_Managers target=_blank rel="external nofollow noopener noreferrer">这里</a>。如果不配置你将会获得黑屏。</p><p>接下来，将以下两行添加到您的开头：<code>~/.xinitrc</code></p><div class=highlight id=id-6><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 编辑 .xinitrc 并在文件开头添加下面内容</span>
</span></span><span class=line><span class=cl>vim ~/.xinitrc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>xrandr --setprovideroutputsource modesetting NVIDIA-0
</span></span><span class=line><span class=cl>xrandr --auto</span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230507052853861.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230507052853861.png?size=small" data-sub-html="<h2>image-20230507052853861</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230507052853861.png alt=image-20230507052853861 srcset="arch-drive-install.assets/image-20230507052853861.png?size=small, arch-drive-install.assets/image-20230507052853861.png?size=medium 1.5x, arch-drive-install.assets/image-20230507052853861.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230507052853861</figcaption></figure></p><p><strong>如果启动之后 dpi 设置不正确，那么还需要在 <code>xrandr --auto</code> 下面一行加入 <code>xrandr --dpi 96</code></strong></p><blockquote><p>安装 NVIDIA 软件包 （可选）</p></blockquote><div class=highlight id=id-7><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo pacman -S nvidia-settings nvidia-utils</span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230507052136496.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230507052136496.png?size=small" data-sub-html="<h2>image-20230507052136496</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230507052136496.png alt=image-20230507052136496 srcset="arch-drive-install.assets/image-20230507052136496.png?size=small, arch-drive-install.assets/image-20230507052136496.png?size=medium 1.5x, arch-drive-install.assets/image-20230507052136496.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230507052136496</figcaption></figure></p><blockquote><p>检查3D</p></blockquote><p>检查是否正常使用 N 卡来输出。建议检查一下</p><div class=highlight id=id-8><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装包</span>
</span></span><span class=line><span class=cl>sudo pacman -S mesa-utils
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 检查是否输出,出现下面内容就是成功了</span>
</span></span><span class=line><span class=cl>glxinfo <span class=p>|</span> grep NVIDIA</span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230507053421591.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230507053421591.png?size=small" data-sub-html="<h2>image-20230507053421591</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230507053421591.png alt=image-20230507053421591 srcset="arch-drive-install.assets/image-20230507053421591.png?size=small, arch-drive-install.assets/image-20230507053421591.png?size=medium 1.5x, arch-drive-install.assets/image-20230507053421591.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230507053421591</figcaption></figure></p><h4 id=配置视频硬解 class=heading-element><a href=#%e9%85%8d%e7%bd%ae%e8%a7%86%e9%a2%91%e7%a1%ac%e8%a7%a3 class=heading-mark></a>1.1.1、配置视频硬解</h4><div class=highlight id=id-9><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装 翻译层</span>
</span></span><span class=line><span class=cl>paru -S libva-nvidia-driver</span></span></code></pre></td></tr></table></div></div><blockquote><p>配置</p></blockquote><p>方法一：</p><div class=highlight id=id-10><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 创建 .xprofile 文件</span>
</span></span><span class=line><span class=cl>vim ~/.xprofile
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LIBVA_DRIVER_NAME</span><span class=o>=</span>nvidia
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LIBVA_DRIVERS_PATH</span><span class=o>=</span>/usr/lib/dri/
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>VDPAU_DRIVER</span><span class=o>=</span>nvidia
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 修改 .xinitrc 文件</span>
</span></span><span class=line><span class=cl><span class=o>[</span> -f ~/.xprofile <span class=o>]</span> <span class=o>&amp;&amp;</span> . ~/.xprofile</span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230507053717011.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230507053717011.png?size=small" data-sub-html="<h2>image-20230507053717011</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230507053717011.png alt=image-20230507053717011 srcset="arch-drive-install.assets/image-20230507053717011.png?size=small, arch-drive-install.assets/image-20230507053717011.png?size=medium 1.5x, arch-drive-install.assets/image-20230507053717011.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230507053717011</figcaption></figure></p><p>方法二：</p><div class=highlight id=id-11><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 修改 .xinitrc 文件</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LIBVA_DRIVER_NAME</span><span class=o>=</span>nvidia
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LIBVA_DRIVERS_PATH</span><span class=o>=</span>/usr/lib/dri/
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>VDPAU_DRIVER</span><span class=o>=</span>nvidia</span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230625081349283.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230625081349283.png?size=small" data-sub-html="<h2>image-20230625081349283</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230625081349283.png alt=image-20230625081349283 srcset="arch-drive-install.assets/image-20230625081349283.png?size=small, arch-drive-install.assets/image-20230625081349283.png?size=medium 1.5x, arch-drive-install.assets/image-20230625081349283.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230625081349283</figcaption></figure></p><p><strong>注意：一定要在 <code>exec dwm</code> 之前</strong></p><blockquote><p>验证 VA-API</p></blockquote><div class=highlight id=id-12><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装软件包，如果不安装这个包，那么 vainfo 无法使用</span>
</span></span><span class=line><span class=cl>sudo pacman -S libva-utils</span></span></code></pre></td></tr></table></div></div><p>验证 VA-API 是否正常工作，运行 <code>vainfo</code>，出现下面内容就表示成功</p><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230507055147711.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230507055147711.png?size=small" data-sub-html="<h2>image-20230507055147711</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230507055147711.png alt=image-20230507055147711 srcset="arch-drive-install.assets/image-20230507055147711.png?size=small, arch-drive-install.assets/image-20230507055147711.png?size=medium 1.5x, arch-drive-install.assets/image-20230507055147711.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230507055147711</figcaption></figure></p><blockquote><p>验证VDPAU</p></blockquote><div class=highlight id=id-13><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 安装 vdpauinfo，不安装无法使用 vdpauinfo 命令</span>
</span></span><span class=line><span class=cl>sudo pacman -S vdpauinfo</span></span></code></pre></td></tr></table></div></div><p>验证 VDPAU 是否正常工作，运行<code>vdpauinfo</code>，出现下图就表示成功</p><p><figure><a class=lightgallery href="arch-drive-install.assets/image-20230507055418720.png?size=large" data-thumbnail="arch-drive-install.assets/image-20230507055418720.png?size=small" data-sub-html="<h2>image-20230507055418720</h2><p> </p>"><img loading=lazy src=arch-drive-install.assets/image-20230507055418720.png alt=image-20230507055418720 srcset="arch-drive-install.assets/image-20230507055418720.png?size=small, arch-drive-install.assets/image-20230507055418720.png?size=medium 1.5x, arch-drive-install.assets/image-20230507055418720.png?size=large 2x" sizes=auto data-title=" " style="background:url(/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></a><figcaption class=image-caption>image-20230507055418720</figcaption></figure></p><h2 id=声卡驱动 class=heading-element><a href=#%e5%a3%b0%e5%8d%a1%e9%a9%b1%e5%8a%a8 class=heading-mark></a>2、声卡驱动</h2><div class=highlight id=id-14><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo pacman -S pipewire
</span></span><span class=line><span class=cl>sudo pacman -S lib32-pipewire
</span></span><span class=line><span class=cl>sudo pacman -S pipewire-pulse
</span></span><span class=line><span class=cl>sudo pacman -S pavucontrol</span></span></code></pre></td></tr></table></div></div><h2 id=蓝牙驱动 class=heading-element><a href=#%e8%93%9d%e7%89%99%e9%a9%b1%e5%8a%a8 class=heading-mark></a>3、蓝牙驱动</h2><div class=highlight id=id-15><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo pacman -S bluez bluez-utils blueman</span></span></code></pre></td></tr></table></div></div><p>启动蓝牙</p><div class=highlight id=id-16><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl start bluetooth.service</span></span></code></pre></td></tr></table></div></div><p>参考教程：<code>https://cn.linux-console.net/?p=16637</code></p><h2 id=电源管理 class=heading-element><a href=#%e7%94%b5%e6%ba%90%e7%ae%a1%e7%90%86 class=heading-mark></a>4、电源管理</h2><p>安装 ： <code>sudo pacman -S tlp</code></p><blockquote><p>启动</p></blockquote><div class=highlight id=id-17><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl start tlp.service
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> tlp.service
</span></span><span class=line><span class=cl>systemctl mask systemd-rfkill.service
</span></span><span class=line><span class=cl>systemctl mask systemd-rfkill.socket</span></span></code></pre></td></tr></table></div></div><p>参考教程：https://wiki.archlinux.org/title/TLP</p><blockquote><p>GUI</p></blockquote><p>安装 ： <code>paru -S tlpui</code></p></div><h2 id=see-also>相关内容</h2><ul><li><a href=/posts/2023-11/arch-install-config/ title="Arch Linux 基础安装到日常使用与美化 - 安装后配置">Arch Linux 基础安装到日常使用与美化 - 安装后配置</a></li><li><a href=/posts/2023-06/arch-basic-install/ title="Arch Linux 基础安装到日常使用与美化 - 基础系统安装">Arch Linux 基础安装到日常使用与美化 - 基础系统安装</a></li><li><a href=/posts/2023-07/open-suse/ title="openSUSE 安装和窗口管理器安装">openSUSE 安装和窗口管理器安装</a></li><li><a href=/posts/2023-09/debian-linux-%E5%AE%89%E8%A3%85/ title="debian 安装">debian 安装</a></li><li><a href=/posts/2023-07/fedora-linux/ title="fedora Linux 安装">fedora Linux 安装</a></li></ul><div class=collection-card><div class="collection-title text-secondary">收录于 <a href=/collections/arch-linux-%E5%9F%BA%E7%A1%80%E5%AE%89%E8%A3%85%E5%88%B0%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E4%B8%8E%E7%BE%8E%E5%8C%96/><i class="fa-solid fa-layer-group fa-fw" aria-hidden=true></i> <span>合集・Arch Linux 基础安装到日常使用与美化</span></span></a> 3</div><div class=collection-nav><a href=/posts/2023-11/arch-install-config/ class=collection-nav-item rel=prev title="Arch Linux 基础安装到日常使用与美化 - 安装后配置"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i><span>Arch Linux 基础安装到日常使用与美化 - 安装后配置</span></a></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2024-01-10 20:38:50">更新于 2024年01月10日 20:38:50&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/linux/ class=post-tag title="标签 - linux">linux</a><a href=/tags/arch/ class=post-tag title="标签 - arch">arch</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/2023-11/arch-install-config/ class=post-nav-item rel=prev title="Arch Linux 基础安装到日常使用与美化 - 安装后配置"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Arch Linux 基础安装到日常使用与美化 - 安装后配置</a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=roukaixin/roukaixin.github.io data-repo-id=R_kgDOJuxXrg data-category=Announcements data-category-id=DIC_kwDOJuxXrs4CbqLQ data-mapping=pathname data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=zh-CN data-loading=lazy crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article><aside class=toc id=toc-auto aria-label=目录><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class="toc-content always-active" id=toc-content-auto></div></aside></main></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=查看评论><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/hugo-fixit/FixIt title="在 GitHub 上查看源代码" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=preload href=/lib/katex/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/katex/katex.min.css></noscript><link rel=stylesheet href=/lib/pace/themes/blue/pace-theme-flash.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/instant-page/instantpage.min.js async defer type=module></script><script src=/lib/lightgallery/lightgallery.min.js defer></script><script src=/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/typeit/index.umd.js defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script src=/lib/pace/pace.min.js async defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:1e3},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark",lightTheme:"light"}},data:{"typeit-header-desktop":"不北咪","typeit-header-title-mobile":"不北咪"},enablePWA:!0,lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"typeit-header-desktop":["typeit-header-desktop"],"typeit-header-title-mobile":["typeit-header-title-mobile"]},duration:-1,loop:!1,speed:100}}</script><script src=/js/theme.min.js defer></script></body></html>